<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pusat Game Offline</title>
    <style>
        :root { --bg: #0f172a; --card: #1e293b; --accent: #38bdf8; --text: #f8fafc; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); margin: 0; text-align: center; overflow-x: hidden; }
        .container { padding: 20px; max-width: 500px; margin: auto; min-height: 100vh; display: flex; flex-direction: column; justify-content: center; }
        
        /* Menu Styles */
        .menu-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
        .game-card { background: var(--card); padding: 20px; border-radius: 15px; cursor: pointer; border: 2px solid transparent; transition: 0.3s; }
        .game-card:hover { border-color: var(--accent); transform: translateY(-5px); }
        .game-card span { font-size: 30px; display: block; margin-bottom: 10px; }

        /* Game Areas */
        .game-screen { display: none; }
        canvas { background: #1e293b; border: 2px solid #38bdf8; border-radius: 10px; max-width: 100%; }
        
        /* Math Quiz Styles */
        .math-box { background: #1e293b; padding: 20px; border-radius: 15px; border: 2px solid var(--accent); }
        #math-question { font-size: 32px; margin-bottom: 20px; }
        #math-answer { padding: 10px; width: 80%; border-radius: 5px; border: none; font-size: 20px; text-align: center; }
        
        .btn-back { margin-top: 20px; background: #ef4444; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: bold; }
        .hidden { display: none !important; }
    </style>
</head>
<body>

<div class="container">
    <div id="main-menu">
        <h1>Offline Game Center üéÆ</h1>
        <p>Internet mati? Tenang, main dulu!</p>
        <div class="menu-grid">
            <div class="game-card" onclick="showGame('snake')"><span>üêç</span>Snake</div>
            <div class="game-card" onclick="showGame('math')"><span>‚ûï</span>Cerdas Cermat</div>
            <div class="game-card" onclick="showGame('tictactoe')"><span>‚ùå‚≠ï</span>Tic Tac Toe</div>
            <div class="game-card" onclick="showGame('dinorun')"><span>ü¶ñ</span>Dino Run</div>
            <div class="game-card" onclick="window.location.reload()" style="grid-column: span 2; background: #0ea5e9;"><span>üîÑ</span>Cek Koneksi Internet</div>
        </div>
    </div>

    <div id="game-snake" class="game-screen">
        <h2>Snake (Skor: <span id="s-score">0</span>)</h2>
        <canvas id="snakeCanvas" width="300" height="300"></canvas>
        <p>Gunakan tombol panah atau geser layar</p>
        <button class="btn-back" onclick="backToMenu()">Kembali</button>
    </div>

    <div id="game-math" class="game-screen">
        <h2>Matematika</h2>
        <div class="math-box">
            <div id="math-question">...</div>
            <input type="number" id="math-answer" placeholder="Jawab di sini">
            <p>Skor: <span id="m-score">0</span></p>
        </div>
        <button class="btn-back" onclick="backToMenu()">Kembali</button>
    </div>

    </div>

<script>
    function showGame(gameId) {
        document.getElementById('main-menu').classList.add('hidden');
        document.querySelectorAll('.game-screen').forEach(s => s.style.display = 'none');
        document.getElementById('game-' + gameId).style.display = 'block';
        
        if(gameId === 'snake') startSnake();
        if(gameId === 'math') startMath();
    }

    function backToMenu() { location.reload(); }

    // --- GAME: SNAKE LOGIC ---
    function startSnake() {
        const canvas = document.getElementById("snakeCanvas");
        const ctx = canvas.getContext("2d");
        let box = 20, snake = [{x: 10 * box, y: 10 * box}], food = {x: 5*box, y: 5*box}, d, score = 0;
        
        document.addEventListener("keydown", e => {
            if(e.keyCode==37 && d!="RIGHT") d="LEFT";
            if(e.keyCode==38 && d!="DOWN") d="UP";
            if(e.keyCode==39 && d!="LEFT") d="RIGHT";
            if(e.keyCode==40 && d!="UP") d="DOWN";
        });

        function draw() {
            ctx.fillStyle = "#1e293b"; ctx.fillRect(0,0,300,300);
            for(let i=0; i<snake.length; i++){
                ctx.fillStyle = (i==0)? "#38bdf8" : "#f8fafc";
                ctx.fillRect(snake[i].x, snake[i].y, box, box);
            }
            ctx.fillStyle = "#ef4444"; ctx.fillRect(food.x, food.y, box, box);
            let sX = snake[0].x, sY = snake[0].y;
            if(d=="LEFT") sX -= box; if(d=="UP") sY -= box;
            if(d=="RIGHT") sX += box; if(d=="DOWN") sY += box;
            if(sX == food.x && sY == food.y){
                score++; document.getElementById('s-score').innerText = score;
                food = {x: Math.floor(Math.random()*14+1)*box, y: Math.floor(Math.random()*14+1)*box};
            } else snake.pop();
            let newHead = {x: sX, y: sY};
            if(sX<0||sX>=300||sY<0||sY>=300||snake.some(t=>t.x==sX&&t.y==sY)){
                clearInterval(game); alert("Kalah! Skor: " + score); backToMenu();
            }
            snake.unshift(newHead);
        }
        let game = setInterval(draw, 150);
    }

    // --- GAME: MATH LOGIC ---
    let mAnswer, mScore = 0;
    function startMath() {
        let n1 = Math.floor(Math.random()*20), n2 = Math.floor(Math.random()*20);
        mAnswer = n1 + n2;
        document.getElementById('math-question').innerText = `${n1} + ${n2} = ?`;
        document.getElementById('math-answer').value = "";
        document.getElementById('math-answer').focus();
    }
    document.getElementById('math-answer').addEventListener('input', function() {
        if(parseInt(this.value) === mAnswer) {
            mScore++;
            document.getElementById('m-score').innerText = mScore;
            startMath();
        }
    });
</script>
</body>
</html>
