<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Offline - Tangkap Kotak!</title>
    <style>
        body { 
            margin: 0; padding: 0; font-family: sans-serif; 
            background: #121212; color: white; 
            display: flex; flex-direction: column; align-items: center; 
            justify-content: center; height: 100vh; overflow: hidden; 
            user-select: none; -webkit-user-select: none;
        }
        #game-area {
            width: 90vw; height: 60vh;
            background: #1e1e1e; border: 2px solid #38bdf8;
            border-radius: 15px; position: relative; overflow: hidden;
            box-shadow: 0 0 20px rgba(56, 189, 248, 0.2);
        }
        .target {
            width: 50px; height: 50px;
            background: #f43f5e; border-radius: 10px;
            position: absolute; cursor: pointer;
            box-shadow: 0 0 15px #f43f5e;
            display: flex; align-items: center; justify-content: center;
            font-weight: bold; font-size: 20px;
        }
        .stats { margin-bottom: 15px; font-size: 20px; color: #38bdf8; }
        .timer { color: #fb7185; margin-left: 20px; }
        .btn {
            margin-top: 20px; padding: 12px 25px;
            background: #0ea5e9; color: white; border: none;
            border-radius: 8px; font-weight: bold; cursor: pointer;
        }
    </style>
</head>
<body>

    <div class="stats">Skor: <span id="score">0</span> <span class="timer">Waktu: <span id="time">30</span>s</span></div>
    
    <div id="game-area">
        <div id="target" class="target" onclick="catchMe()">ðŸŽ¯</div>
    </div>

    <button class="btn" onclick="window.location.reload()">Cek Koneksi</button>

    <script>
        let score = 0;
        let timeLeft = 30;
        let gameActive = true;
        const target = document.getElementById('target');
        const scoreDisplay = document.getElementById('score');
        const timeDisplay = document.getElementById('time');
        const area = document.getElementById('game-area');

        function moveTarget() {
            if (!gameActive) return;
            
            // Hitung batas area agar kotak tidak keluar jalur
            const maxX = area.clientWidth - 60;
            const maxY = area.clientHeight - 60;
            
            const randomX = Math.floor(Math.random() * maxX);
            const randomY = Math.floor(Math.random() * maxY);
            
            target.style.left = randomX + 'px';
            target.style.top = randomY + 'px';
        }

        function catchMe() {
            if (!gameActive) return;
            score++;
            scoreDisplay.innerText = score;
            moveTarget();
        }

        // Timer Game
        const countdown = setInterval(() => {
            timeLeft--;
            timeDisplay.innerText = timeLeft;
            if (timeLeft <= 0) {
                clearInterval(countdown);
                gameActive = false;
                alert("Waktu Habis! Skor Akhir: " + score);
                resetGame();
            }
        }, 1000);

        function resetGame() {
            score = 0;
            timeLeft = 30;
            gameActive = true;
            scoreDisplay.innerText = score;
            timeDisplay.innerText = timeLeft;
            moveTarget();
            // Start ulang interval jika perlu, tapi untuk offline sederhana reload saja cukup
            location.reload(); 
        }

        // Posisi awal
        moveTarget();
    </script>
</body>
</html>
